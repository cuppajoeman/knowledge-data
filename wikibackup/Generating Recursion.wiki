* Reformulated, one can see <math>a_{n}  + a_{n-1}  + a_{n  - 2} = r^{n-2} </math>  for <math>n \ge 2</math>. Set <math>F\left(x\right) = \sum_{n=0}^{\infty } a_{n} x^{n}</math>   we remark the following:<math display="block">F\left(x\right)  + x F\left(x\right)  + x^2 F\left(x\right) = a_0\left( 1 + x + x^2  \right)  + xa_1 \left( 1 + x  + x^2  \right)  +  \sum_{n=2}^{\infty } \left( a_{n}  + a_{n-1}  + a_{n-2}  \right) x^{n} = a_0\left( 1 + x + x^2  \right)  + xa_1 \left( 1 + x  + x^2  \right)  +  \sum_{n=2}^{\infty } r^{n-2}  x^{n}  </math>
* At this point we have that <math display="block">F\left(x\right) \left( 1 + x + x^2  \right) =a_0\left( 1 + x + x^2  \right)  + xa_1 \left( 1 + x  + x^2  \right)  +  \sum_{n=2}^{\infty } \left( a_{n}  + a_{n-1}  + a_{n-2}  \right) x^{n}</math>
* We see that <math>\sum_{n=2}^{\infty } r^{n-2} x^{n} = \sum_{n=2}^{\infty } \left( \frac{x}{r^2 } \right)^{n}</math>  and so if <math>\frac{x}{r^2 } \in  \left[ -1,1 \right]  </math>  then we have <math display="block">\sum_{n=2}^{\infty } \left( \frac{x}{r^2 } \right)^{n}= \lim_{n\to\infty} \frac{r^{n-1} x^{n + 1}  - 1}{\frac{x}{r^2 }  - 1} = \frac{1}{1  - \frac{x}{r^2 } }  </math>
* Finally dividing both sides by <math>\left( 1  + x  + x^2  \right) </math>  gives <math>F\left(x\right) = a_0  + a_1x  + \frac{1}{\left( 1  - \frac{x}{r^2 }  \right)\left( 1  +  x  + x^2  \right)  }  </math>